/* =================================================================== */
/* Quickfire Math — Global Styles                                      */
/* =================================================================== */

:root{
  --bg: #0e0f12;
  --bg-elev: #17181d;
  --fg: #ffffff;
  --fg-muted: #B7BEC7;
  --accent: #4DA3FF;
  --accent-2: #60E6A8;
  --danger: #FF5C70;
  --border: #2a2d36;

  --radius: 12px;
  --radius-sm: 8px;
  --shadow: 0 6px 16px rgba(0,0,0,0.25);
}

*{ box-sizing: border-box; }
html, body { height: 100%; }
body{
  margin:0;
  font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial, "Noto Sans", "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji";
  background: var(--bg);
  color: var(--fg);
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

a { color: var(--accent); text-decoration: none; }
a:hover { text-decoration: underline; }

.hidden { display: none !important; }
.disabled { opacity: .5; pointer-events: none; }

/* Layout */
.layout{
  max-width: 1200px;
  margin: 24px auto;
  padding: 0 16px;
  display: grid;
  grid-template-columns: 1fr 340px;
  gap: 20px;
}
.main-col { min-width: 0; }
.news-col { min-width: 280px; }

.row{ display: flex; align-items: center; gap: 12px; }
.space-between{ justify-content: space-between; }
.title{ margin: 0 0 8px 0; font-size: 1.8rem; }
.muted-link{ color: var(--fg-muted); }

/* Cards / blocks */
.card{
  background: var(--bg-elev);
  border: 1px solid var(--border);
  border-radius: var(--radius);
  padding: 16px;
  box-shadow: var(--shadow);
}
.note{ color: var(--fg-muted); margin-top: 6px; }

/* Buttons */
.btn{
  display: inline-flex; align-items: center; justify-content: center;
  gap: 8px; padding: 10px 14px; border-radius: 10px;
  background: #2a2f3a; color: var(--fg); border: 1px solid var(--border);
  cursor: pointer; text-decoration: none; font-weight: 600; min-width: 44px;
}
.btn:hover{ filter: brightness(1.06); }
.btn:active{ transform: translateY(1px); }
.btn-primary{ background: var(--accent); border-color: transparent; color:#08121e; }
.btn-secondary{ background: #222530; }
.btn-danger{ background: var(--danger); border-color: transparent; color:#1f0f12; }

/* Lists */
.list{ list-style: none; padding: 0; margin: 0; }
.list li{ padding: 8px 0; border-bottom: 1px solid var(--border); }
.list li:last-child{ border-bottom: 0; }

/* Inputs */
input[type=text], input[type=password], input[type=number]{
  background: var(--bg-elev);
  border: 1px solid var(--border);
  color: var(--fg);
  padding: 10px 12px;
  border-radius: 10px;
}

/* Remove spinners on numeric inputs */
input[type=number]::-webkit-outer-spin-button,
input[type=number]::-webkit-inner-spin-button { -webkit-appearance: none; margin: 0; }
input[type=number] { -moz-appearance: textfield; }

/* =================================================================== */
/* Sidebar: stats + newsfeed                                           */
/* =================================================================== */

.stats-head, .news-head{
  font-weight: 700; margin-bottom: 8px; color: var(--fg);
}
.stats-list{ list-style: none; padding: 0; margin: 0 0 16px 0; }
.stats-list li{ padding: 4px 0; color: var(--fg-muted); }
.stats-list strong{ color: var(--fg); }

.news-list{ display: grid; gap: 10px; }
.news-item{
  background: var(--bg-elev);
  border: 1px solid var(--border);
  border-radius: var(--radius-sm);
  padding: 10px 12px;
}
.news-time{ color: var(--fg-muted); font-size: .95rem; }
.news-settings{ margin-top: 4px; }
.news-note{ color: var(--fg-muted); margin: 2px 0 4px; }
.news-score{ font-weight: 600; }
.news-result{ color: var(--fg-muted); }
.news-empty{ color: var(--fg-muted); font-style: italic; }
.news-info{ color: var(--fg-muted); }

/* =================================================================== */
/* Choose-a-drill grid                                                 */
/* =================================================================== */

.choose-grid{
  display: grid;
  grid-template-columns: repeat(2, minmax(280px, 1fr)); /* max two per row */
  gap: 16px;
  margin-top: 8px;
}
@media (max-width: 820px){
  .layout{ grid-template-columns: 1fr; }
  .choose-grid{ grid-template-columns: 1fr; }
}

/* radio hidden; label is the card */
.op-card{
  display: block; position: relative; cursor: pointer;
  background: linear-gradient(180deg, #1a1c22, #14161b);
  border: 1px solid var(--border);
  border-radius: var(--radius);
  padding: 16px;
  box-shadow: var(--shadow);
  transition: transform .08s ease, box-shadow .08s ease, border-color .08s ease;
  user-select: none;
}
.op-card:hover{ border-color: #3a3f4a; }
.op-card input[type=radio]{ position: absolute; inset: 0; opacity: 0; pointer-events: none; }
.op-card .op-title{ font-size: 1.2rem; font-weight: 800; margin-bottom: 6px; }
.op-card .op-sub{ color: var(--fg-muted); margin-bottom: 10px; }
.op-card .op-stars{ font-size: 1.4rem; letter-spacing: 2px; }
.op-card .op-badge{
  display: inline-block; margin-top: 10px; padding: 6px 10px; border-radius: 999px;
  background: #232631; color: var(--fg-muted); border: 1px solid var(--border); font-size: .95rem;
}
.op-card.selected{
  transform: translateY(1px);
  border-color: var(--accent);
  box-shadow: 0 12px 24px rgba(77,163,255,0.1);
}

/* =================================================================== */
/* Equation + Answer (DRILL)                                           */
/* =================================================================== */

.equation{
  display: flex; align-items: flex-start; gap: 24px; margin-top: 8px;
}
.eq-col{ display: inline-flex; flex-direction: column; align-items: flex-end; }
.eq-row{ display: flex; align-items: center; gap: 12px; }

/* OPERANDS — really big */
.eq-num{
  font-size: 6rem;       /* operands */
  line-height: 1;
  color: var(--fg);
  font-weight: 800;
  letter-spacing: -0.02em;
}
.eq-op{
  font-size: 4rem;
  line-height: 1;
  color: var(--fg-muted);
  width: 2.6rem;
  text-align: center;
}

.eq-line{
  height: 3px; background: var(--fg);
  width: 100%;
  margin: 10px 0 6px 0;
}

/* Timer + progress to the side */
.eq-meta .timer{ font-size: 2rem; font-weight: 700; }
.eq-meta .progress{ color: var(--fg-muted); margin-top: 4px; }

/* Answer */
.answer-form{
  display: flex; align-items: center; width: 100%;
}
.answer-input{
  flex: 0 0 auto;
  width: 12ch;                 /* wide enough for placeholder “answer” and big digits */
  font-size: 5rem;             /* close to operands but slightly smaller */
  line-height: 1.05;
  color: var(--fg);
  background: var(--bg-elev);
  border: 2px solid var(--fg);
  border-radius: 10px;
  padding: 8px 12px;
  text-align: right;           /* aligns visually with operands */
}
.answer-input::placeholder{ color: var(--fg); opacity: 0.6; }
.enter-btn{ margin-left: 16px; height: 4.4rem; }

/* Helper + finish actions */
.helper{ margin-top: 16px; color: var(--fg-muted); }
.finish-actions{ margin-top: 16px; display: flex; gap: 10px; }

/* Overlay (wrong answer) */
.overlay{
  position: fixed; inset: 0; background: rgba(0,0,0,0.5);
  display: grid; place-items: center; z-index: 1000;
}
.overlay-box{
  background: #111216; border: 1px solid var(--border); border-radius: 14px;
  padding: 20px 24px; box-shadow: var(--shadow);
  font-size: 4.5rem; font-weight: 800; letter-spacing: -0.02em;
}
.overlay-box .op{ color: var(--fg-muted); }

/* =================================================================== */
/* Digit colouring (only applied where .digit spans are used)          */
/* =================================================================== */

.digit{ display: inline-block; }
.d0 { color: #A6B1FF; }   /* calm blue-lilac */
.d1 { color: #66E3FF; }   /* aqua */
.d2 { color: #7CFCC5; }   /* mint */
.d3 { color: #FFE269; }   /* sunshine */
.d4 { color: #FFB870; }   /* melon */
.d5 { color: #FF8BA0; }   /* soft coral */
.d6 { color: #C792EA; }   /* lavender */
.d7 { color: #8BD3FF; }   /* sky */
.d8 { color: #9BE28C; }   /* spring */
.d9 { color: #F4A2FF; }   /* pink-violet */

/* =================================================================== */
/* Heatmaps                                                            */
/* =================================================================== */

.hm{ border: 1px solid var(--border); border-radius: 10px; overflow: hidden; }
.hm-row{ display: grid; grid-template-columns: 36px repeat(12, 1fr); }
.hm-head{ background: #1a1b21; color: var(--fg-muted); }
.hm-row > span{ display: inline-flex; align-items: center; justify-content: center; padding: 6px; }
.hm-headcell{ background: #1a1b21; color: var(--fg-muted); }
.hm-cell{ min-height: 22px; border-right: 1px solid #20232b; border-bottom: 1px solid #20232b; }

/* =================================================================== */
/* Expanders (settings/reports)                                        */
/* =================================================================== */

details.expander{
  border: 1px solid var(--border);
  border-radius: var(--radius);
  background: var(--bg-elev);
  margin: 12px 0;
}
details.expander > summary{
  cursor: pointer; padding: 10px 14px; list-style: none; font-weight: 700;
}
details.expander[open] > summary{ border-bottom: 1px solid var(--border); }
details.expander > *:not(summary){ padding: 12px 14px; }

/* =================================================================== */
/* Login users list                                                    */
/* =================================================================== */

.user-grid{
  display: grid;
  grid-template-columns: repeat(2, minmax(220px, 1fr));
  gap: 12px;
}
@media (max-width: 640px){ .user-grid{ grid-template-columns: 1fr; } }

.user-card{
  display: block; padding: 14px;
  background: linear-gradient(180deg, #1a1c22, #14161b);
  border: 1px solid var(--border);
  border-radius: var(--radius);
  box-shadow: var(--shadow);
  text-align: center;
  font-size: 1.2rem; font-weight: 800;
  cursor: pointer;
}
.user-card:hover{ border-color: #3a3f4a; }

/* =================================================================== */
/* Small helpers                                                       */
/* =================================================================== */

.badge { display:inline-block; padding: 4px 8px; border-radius: 999px; background:#232631; border:1px solid var(--border); color:var(--fg-muted); }
.center { text-align:center; }
.right { text-align:right; }
