/* =================================================================== */
/* Quickfire Math — Global Styles (brighter)                           */
/* =================================================================== */

:root{
  --bg: #151a24;         /* brighter than pure black */
  --bg-elev: #1d2433;
  --fg: #ffffff;
  --fg-muted: #C9D2DD;
  --accent: #76B3FF;
  --accent-2: #7FE3B5;
  --danger: #FF6B7A;
  --border: #2b3242;

  --radius: 12px;
  --radius-sm: 8px;
  --shadow: 0 10px 24px rgba(0,0,0,0.28);
}

*{ box-sizing: border-box; }
html, body { height: 100%; }
body{
  margin:0;
  font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial, "Noto Sans";
  background: radial-gradient(1200px 800px at 15% -10%, rgba(118,179,255,.08), transparent 60%),
              radial-gradient(900px 700px at 110% 10%, rgba(127,227,181,.08), transparent 60%),
              var(--bg);
  color: var(--fg);
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

a { color: var(--accent); text-decoration: none; }
a:hover { text-decoration: underline; }

.hidden { display: none !important; }
.disabled { opacity: .5; pointer-events: none; }

/* Layout */
.layout{
  max-width: 1200px;
  margin: 24px auto;
  padding: 0 16px;
  display: grid;
  grid-template-columns: 1fr 340px;
  gap: 20px;
}
.main-col { min-width: 0; }
.news-col { min-width: 280px; }

.row{ display: flex; align-items: center; gap: 12px; }
.space-between{ justify-content: space-between; }
.title{ margin: 0 0 8px 0; font-size: 1.8rem; }
.muted-link{ color: var(--fg-muted); }

/* Cards / blocks */
.card{
  background: var(--bg-elev);
  border: 1px solid var(--border);
  border-radius: var(--radius);
  padding: 16px;
  box-shadow: var(--shadow);
}
.note{ color: var(--fg-muted); margin-top: 6px; }

/* Buttons */
.btn{
  display: inline-flex; align-items: center; justify-content: center;
  gap: 8px; padding: 10px 14px; border-radius: 10px;
  background: #2a3143; color: var(--fg); border: 1px solid var(--border);
  cursor: pointer; text-decoration: none; font-weight: 600; min-width: 44px;
}
.btn:hover{ filter: brightness(1.06); }
.btn:active{ transform: translateY(1px); }
.btn-primary{ background: var(--accent); border-color: transparent; color:#0d1a33; }
.btn-secondary{ background: #232a3a; }
.btn-danger{ background: var(--danger); border-color: transparent; color:#2a0f14; }

/* Lists */
.list{ list-style: none; padding: 0; margin: 0; }
.list li{ padding: 8px 0; border-bottom: 1px solid var(--border); }
.list li:last-child{ border-bottom: 0; }

/* Inputs */
input[type=text], input[type=password], input[type=number]{
  background: var(--bg-elev);
  border: 1px solid var(--border);
  color: var(--fg);
  padding: 10px 12px;
  border-radius: 10px;
}

/* Remove spinners on numeric inputs */
input[type=number]::-webkit-outer-spin-button,
input[type=number]::-webkit-inner-spin-button { -webkit-appearance: none; margin: 0; }
input[type=number] { -moz-appearance: textfield; }

/* =================================================================== */
/* Sidebar: stats + newsfeed                                           */
/* =================================================================== */

.stats-head, .news-head{
  font-weight: 700; margin-bottom: 8px; color: var(--fg);
}
.stats-list{ list-style: none; padding: 0; margin: 0 0 16px 0; }
.stats-list li{ padding: 4px 0; color: var(--fg-muted); }
.stats-list strong{ color: var(--fg); }

.news-list{ display: grid; gap: 10px; }
.news-item{
  background: linear-gradient(180deg, #202739, #1b2231);
  border: 1px solid var(--border);
  border-radius: var(--radius-sm);
  padding: 10px 12px;
  box-shadow: var(--shadow);
}
.news-time{ color: var(--fg-muted); font-size: .95rem; }
.news-settings{ margin-top: 4px; }
.news-note{ color: var(--fg-muted); margin: 2px 0 4px; }
.news-score{ font-weight: 600; }
.news-result{ color: var(--fg-muted); }
.news-empty{ color: var(--fg-muted); font-style: italic; }
.news-info{ color: var(--fg-muted); }

/* =================================================================== */
/* Choose-a-drill grid (2x2 on desktop)                                */
/* =================================================================== */

.choose-grid{
  display: grid;
  grid-template-columns: repeat(2, minmax(320px, 1fr));
  gap: 16px;
  margin-top: 8px;
}
@media (max-width: 900px){
  .layout{ grid-template-columns: 1fr; }
  .choose-grid{ grid-template-columns: 1fr; }
}

/* radio hidden; label is the card */
.op-card{
  display: block; position: relative; cursor: pointer;
  background: linear-gradient(180deg, #24314a, #212b40);
  border: 1px solid #35507d;
  border-radius: var(--radius);
  padding: 16px;
  box-shadow: 0 12px 28px rgba(16,34,60,.35);
  transition: transform .08s ease, box-shadow .08s ease, border-color .08s ease;
  user-select: none;
}
.op-card:hover{ border-color: #4e77b8; }
.op-card input[type=radio]{ position: absolute; inset: 0; opacity: 0; pointer-events: none; }
.op-card .op-title{ font-size: 1.25rem; font-weight: 800; margin-bottom: 6px; }
.op-card .op-sub{ color: var(--fg-muted); margin-bottom: 10px; }
.op-card .op-stars{ font-size: 1.4rem; letter-spacing: 2px; }
.op-card .op-badge{
  display: inline-block; margin-top: 10px; padding: 6px 10px; border-radius: 999px;
  background: #2a3550; color: var(--fg); border: 1px solid #35507d; font-size: .95rem;
}
.op-card.selected{
  transform: translateY(1px);
  border-color: var(--accent);
  box-shadow: 0 16px 32px rgba(118,179,255,.20);
}

/* =================================================================== */
/* Equation + Answer (DRILL)                                           */
/* =================================================================== */

.eq-meta{
  display: flex; align-items: baseline; gap: 16px;
  font-size: 1.8rem; font-weight: 700; margin: 6px 0 2px;
}
.eq-meta .progress{ color: var(--fg-muted); font-size: 1.2rem; font-weight: 600; }

.equation{
  display: flex; align-items: flex-start; gap: 24px; margin-top: 2px;
}
.eq-col{ display: inline-flex; flex-direction: column; align-items: flex-end; }
.eq-row{ display: flex; align-items: center; gap: 12px; }

/* OPERANDS — really big */
.eq-num{
  font-size: 7rem;       /* bigger */
  line-height: 1;
  color: var(--fg);
  font-weight: 900;
  letter-spacing: -0.02em;
}
.eq-op{
  font-size: 4.5rem;
  line-height: 1;
  color: var(--fg-muted);
  width: 3rem;
  text-align: center;
}

.eq-line{
  height: 4px; background: var(--fg);
  width: 100%;
  margin: 12px 0 8px 0;
}

/* Answer: Enter BELOW the input */
.answer-form{
  display: flex; flex-direction: column; align-items: flex-end; width: 100%;
}
.answer-input{
  flex: 0 0 auto;
  width: 12ch;                 /* wide enough for placeholder “answer” and big digits */
  font-size: 6rem;             /* close to operands */
  line-height: 1.05;
  color: var(--fg);
  background: #222c42;
  border: 2px solid var(--fg);
  border-radius: 10px;
  padding: 8px 12px;
  text-align: right;           /* aligns visually with operands */
  box-shadow: inset 0 0 0 1px rgba(118,179,255,.22);
}
.answer-input::placeholder{ color: var(--fg); opacity: 0.6; }
.enter-btn{ margin-top: 12px; height: 3.2rem; }

/* Helper + finish actions */
.helper{ margin-top: 14px; color: var(--fg-muted); min-height: 1.6rem; }
.finish-actions{ margin-top: 16px; display: flex; gap: 10px; }

/* Overlay (wrong answer) */
.overlay{
  position: fixed; inset: 0; background: rgba(0,0,0,0.45);
  display: grid; place-items: center; z-index: 1000;
}
.overlay-box{
  background: #111826; border: 1px solid var(--border); border-radius: 14px;
  padding: 20px 24px; box-shadow: var(--shadow);
  font-size: 5rem; font-weight: 900; letter-spacing: -0.02em;
}
.overlay-box .op{ color: var(--fg-muted); }

/* =================================================================== */
/* Digit colouring (only applied where .digit spans are used)          */
/* =================================================================== */

.digit{ display: inline-block; }
.d0 { color: #A6B1FF; }
.d1 { color: #66E3FF; }
.d2 { color: #7CFCC5; }
.d3 { color: #FFE269; }
.d4 { color: #FFB870; }
.d5 { color: #FF8BA0; }
.d6 { color: #C792EA; }
.d7 { color: #8BD3FF; }
.d8 { color: #9BE28C; }
.d9 { color: #F4A2FF; }

/* =================================================================== */
/* Heatmaps                                                            */
/* =================================================================== */

.hm{ border: 1px solid var(--border); border-radius: 10px; overflow: hidden; }
.hm-row{ display: grid; grid-template-columns: 36px repeat(12, 1fr); }
.hm-head{ background: #1f2a44; color: var(--fg); }
.hm-row > span{ display: inline-flex; align-items: center; justify-content: center; padding: 6px; }
.hm-headcell{ background: #1f2a44; color: var(--fg); }
.hm-cell{ min-height: 22px; border-right: 1px solid #22304f; border-bottom: 1px solid #22304f; }

/* =================================================================== */
/* Expanders (settings/reports)                                        */
/* =================================================================== */

details.expander{
  border: 1px solid var(--border);
  border-radius: var(--radius);
  background: var(--bg-elev);
  margin: 12px 0;
}
details.expander > summary{
  cursor: pointer; padding: 10px 14px; list-style: none; font-weight: 700;
}
details.expander[open] > summary{ border-bottom: 1px solid var(--border); }
details.expander > *:not(summary){ padding: 12px 14px; }

/* =================================================================== */
/* Login users list (2 columns)                                        */
/* =================================================================== */

.user-grid{
  display: grid;
  grid-template-columns: repeat(2, minmax(260px, 1fr));
  gap: 12px;
}
@media (max-width: 640px){ .user-grid{ grid-template-columns: 1fr; } }

.user-card{
  display: block; padding: 14px;
  background: linear-gradient(180deg, #26365a, #222f4d);
  border: 1px solid #3e5a93;
  border-radius: var(--radius);
  box-shadow: 0 12px 28px rgba(16,34,60,.35);
  text-align: center;
  font-size: 1.2rem; font-weight: 800;
  cursor: pointer; color: var(--fg);
}
.user-card:hover{ border-color: #5d87d1; }

/* =================================================================== */
/* Small helpers                                                       */
/* =================================================================== */

.badge { display:inline-block; padding: 4px 8px; border-radius: 999px; background:#2a3550; border:1px solid #35507d; color:var(--fg); }
.center { text-align:center; }
.right { text-align:right; }
