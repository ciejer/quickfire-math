{% extends "base.html" %}
{% block content %}
<div class="layout">
  <section class="main-col">
    <div class="row space-between">
      <h1 class="title">Drill</h1>
      <a class="muted-link" href="/home">← Home</a>
    </div>

    <div id="settings-human" class="note">{{ settings_human }}</div>

    <div id="equation" class="equation">
      <div class="eq-col">
        <div id="num-a" class="eq-num">12</div>
        <div class="eq-row">
          <div id="op" class="eq-op">×</div>
          <div id="num-b" class="eq-num">7</div>
        </div>
        <div class="eq-line"></div>
        <form id="answer-form" class="answer-form">
          <input id="answer" type="number" inputmode="numeric" autocomplete="off" placeholder="answer" class="answer-input">
          <button type="submit" class="btn btn-primary enter-btn">Enter ⏎</button>
        </form>
      </div>
      <div class="eq-meta">
        <div class="timer" id="timer">0:00</div>
        <div class="progress">Question <span id="q-done">0</span>/20</div>
      </div>
    </div>

    <div id="overlay" class="overlay hidden">
      <div id="overlay-content" class="overlay-box">1 × 2 = 2</div>
    </div>

    <div id="helper" class="helper">Answer to begin…</div>

    <div id="finish-actions" class="finish-actions hidden">
      <button id="play-again-btn" class="btn">Play again</button>
      <form id="nextlvl-form" class="hidden" method="post" action="/start">
        <input type="hidden" name="drill_type" value="{{ drill_type }}">
        <button class="btn btn-primary">Start next level</button>
      </form>
      <a id="home-btn" class="btn btn-secondary" href="/home">Home</a>
    </div>

    <script>
      window.DRILL = {
        type: "{{ drill_type }}",
        target: {{ target_count }},
        first: {prompt: "{{ first_prompt }}", answer: {{ first_answer }}, tts: "{{ first_tts }}"}
      };
    </script>
  </section>

  <aside class="news-col">
    <div class="stats-head">Drills finished today</div>
    <ul id="stats-list" class="stats-list">
      <li>Total: <strong>0</strong></li>
      <li>Addition: <strong>0</strong></li>
      <li>Subtraction: <strong>0</strong></li>
      <li>Multiplication: <strong>0</strong></li>
      <li>Division: <strong>0</strong></li>
    </ul>

    <div class="news-head">Your newsfeed</div>
    <div id="feed-list" class="news-list"></div>
  </aside>
</div>
{% endblock %}
