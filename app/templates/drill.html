{% extends "base.html" %}
{% block content %}
<div class="drill-layout">
  <section class="main-col">
    <div class="statusbar">
      <div>Type: <strong>{{ drill_type }}</strong></div>
      <div>Settings: <strong id="settings-human">{{ settings_human }}</strong></div>
      <div>Q:<strong><span id="q-done">0</span>/<span id="q-total">{{ target_count }}</span></strong></div>
      <div class="timer" id="timer">0:00</div>
    </div>

    <!-- Vertical equation -->
    <div class="equation" id="equation">
      <div class="eq-row"><span class="num" id="num-a"></span></div>
      <div class="eq-row"><span class="op" id="op"></span><span class="num" id="num-b"></span></div>
      <div class="rule"></div>

      <!-- Answer aligned right, button out to the far right -->
      <form id="answer-form" class="answer">
        <input id="answer" inputmode="numeric" autocomplete="off" placeholder="Answer" required class="answer-input">
      </form>
    </div>

    <div class="helper" id="helper"></div>

    <!-- Finish actions: equal size buttons -->
    <div id="finish-actions" class="finish-actions hidden">
      <form id="again-form" method="post" action="/start" class="finish-form">
        <input type="hidden" name="drill_type" value="{{ drill_type }}">
        <button class="btn btn-primary btn-wide" type="submit">Play again</button>
        <button class="btn btn-secondary btn-wide" type="button" onclick="location.href='/home'">Home</button>
      </form>
    </div>
  </section>

  <aside class="news-col">
    <div class="stats-head">Drills finished today</div>
    <ul id="stats-list" class="stats-list">
      <li>Total: <strong>0</strong></li>
      <li>Addition: <strong>0</strong></li>
      <li>Subtraction: <strong>0</strong></li>
      <li>Multiplication: <strong>0</strong></li>
      <li>Division: <strong>0</strong></li>
    </ul>
    <div class="news-head">Feed</div>
    <div id="feed-list"><div class="news-info">Weâ€™ll add your result here when you finish.</div></div>
  </aside>
</div>

<script>
window.DRILL = {
  type: "{{ drill_type }}",
  target: {{ target_count }},
  first: { prompt: "{{ first_prompt }}", answer: {{ first_answer }}, tts: "{{ first_tts }}" }
};
</script>

<!-- Visual overlay for wrong answer -->
<div id="overlay" class="overlay hidden"><div class="overlay-content" id="overlay-content"></div></div>
{% endblock %}
